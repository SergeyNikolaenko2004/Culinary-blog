<template>
  <q-page class="q-pa-md">
    <div class="fixed-counter">
      <div class="counter-content">
        <div v-if="loading" class="text-center">
          <q-spinner color="dark" size="2em" />
        </div>
        <div v-else class="counter-text text-dark">
          –£ –Ω–∞—Å –µ—Å—Ç—å —É–∂–µ <span class="counter-number">{{ count }}</span> –±–ª—é–¥
        </div>
      </div>
    </div>

    <div class="q-mt-xl">
      <div class="row q-mb-xl items-center">
        <div class="col-md-6 col-sm-12 q-pr-md">
          <q-img
            src="/public/images/foods/ppp.jpg"
            alt="–ë–ª—é–¥–æ 1"
            ratio="1"
            class="rounded-borders shadow-5 "
          />
        </div>
        <div class="col-md-6 col-sm-12 q-pa-md">
          <h3 class="text-h5">–ü–∏—Ü—Ü–∞ (–ò—Ç–∞–ª–∏—è) üçï</h3>
          <p class="text-body1">
            –ö–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É –≤ –º–∏—Ä–µ —Å—ä–µ–¥–∞—é—Ç 350 –∫—É—Å–∫–æ–≤ –ø–∏—Ü—Ü—ã!
          </p>
          <q-chip color="orange" text-color="white" icon="star">
            –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å: 32%
          </q-chip>
        </div>
      </div>

      <div class="row q-mb-xl items-center">
        <div class="col-md-6 col-sm-12 order-md-first order-sm-last q-pr-md">
          <h2 class="text-h5">–ë—É—Ä–≥–µ—Ä (–°–®–ê) üçî</h2>
          <p class="text-body1">
            –°–∞–º—ã–π –±–æ–ª—å—à–æ–π –±—É—Ä–≥–µ—Ä –≤–µ—Å–∏–ª 913 –∫–≥ (–≤–∫–ª—é—á—ë–Ω –≤ –ö–Ω–∏–≥—É —Ä–µ–∫–æ—Ä–¥–æ–≤ –ì–∏–Ω–Ω–µ—Å—Å–∞).
          </p>
          <q-chip color="orange" text-color="white" icon="star">
            –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å:  28%
          </q-chip>
        </div>
        <div class="col-md-6 col-sm-12 order-md-last order-sm-first q-pl-md">
          <q-img
            src="/public/images/foods/bbb.jpg"
            alt="–ë–ª—é–¥–æ 2"
            ratio="1"
            class="rounded-borders shadow-5"
          />
        </div>
      </div>
      
      <div class="row q-mb-xl items-center">
        <div class="col-md-6 col-sm-12 q-pr-md">
          <q-img
            src="/public/images/foods/sss.jpg"
            alt="–ë–ª—é–¥–æ 3"
            ratio="1"
            class="rounded-borders shadow-5"
          />
        </div>
        <div class="col-md-6 col-sm-12 q-pl-md">
          <h2 class="text-h5">–°—É—à–∏ (–Ø–ø–æ–Ω–∏—è) üç£</h2>
          <p class="text-body1">
            –°–∞–º—ã–µ –¥–æ—Ä–æ–≥–∏–µ —Å—É—à–∏ ‚Äî —Å –∑–æ–ª–æ—Ç–æ–π —Ñ–æ–ª—å–≥–æ–π –∏ —Ç—Ä—é—Ñ–µ–ª—è–º–∏ (–¥–æ $2000 –∑–∞ –ø–æ—Ä—Ü–∏—é).
          </p>
          <q-chip color="orange" text-color="white" icon="star">
            –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å: 15%
          </q-chip>
        </div>
      </div>

      <div class="row q-mb-xl items-center">
        <div class="col-md-6 col-sm-12 order-md-first order-sm-last q-pr-md">
          <h2 class="text-h5">–ü–∞—Å—Ç–∞/–°–ø–∞–≥–µ—Ç—Ç–∏ üçù</h2>
          <p class="text-body1">
            –•–æ—Ç—è –ø–∞—Å—Ç–∞ –∞—Å—Å–æ—Ü–∏–∏—Ä—É–µ—Ç—Å—è —Å –ò—Ç–∞–ª–∏–µ–π, –ø–µ—Ä–≤—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ª–∞–ø—à–µ –∏–∑ –ø—à–µ–Ω–∏—á–Ω–æ–π –º—É–∫–∏ –Ω–∞–π–¥–µ–Ω—ã –≤ –ö–∏—Ç–∞–µ (4,000 –ª–µ—Ç –Ω–∞–∑–∞–¥)
          </p>
          <q-chip color="orange" text-color="white" icon="star">
            –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å:  9%
          </q-chip>
        </div>
        <div class="col-md-6 col-sm-12 order-md-last order-sm-first q-pl-md">
          <q-img
            src="/public/images/foods/papa.jpg"
            alt="–ë–ª—é–¥–æ 2"
            ratio="1"
            class="rounded-borders shadow-5"
          />
        </div>
      </div>

      <div class="row q-mb-xl items-center">
        <div class="col-md-6 col-sm-12 q-pr-md">
          <q-img
            src="/public/images/foods/tatata.jpg"
            alt="–ë–ª—é–¥–æ 3"
            ratio="1"
            class="rounded-borders shadow-5"
          />
        </div>
        <div class="col-md-6 col-sm-12 q-pl-md">
          <h2 class="text-h5">–¢–∞–∫–æ/–ë—É—Ä—Ä–∏—Ç–æ üåÆ 6%</h2>
          <p class="text-body1">
            –í 1985 –≥–æ–¥—É –±—É—Ä—Ä–∏—Ç–æ —Å—Ç–∞–ª–æ –ø–µ—Ä–≤–æ–π –º–µ–∫—Å–∏–∫–∞–Ω—Å–∫–æ–π –µ–¥–æ–π –≤ –∫–æ—Å–º–æ—Å–µ ‚Äî NASA –≤–∫–ª—é—á–∏–ª–æ –µ–≥–æ –≤ –º–µ–Ω—é —à–∞—Ç—Ç–ª–∞ Atlantis –∏–∑-–∑–∞ —É–¥–æ–±—Å—Ç–≤–∞ –≤ –Ω–µ–≤–µ—Å–æ–º–æ—Å—Ç–∏.
          </p>
          <q-chip color="orange" text-color="white" icon="star">
            –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å: 6%
          </q-chip>
        </div>
      </div>


    </div>
  </q-page>
</template>

<script>
import http from "/src/http-common";
import { defineComponent, ref, computed, onMounted, watch } from 'vue';
import { useQuasar } from 'quasar';


export default {
  name: "HomePage",
  setup() {
    const count = ref(0)
    const loading = ref(false)

    const fetchCount = async () => {
      loading.value = true
      try {
        const response = await http.get('/food_name')
        count.value = response.data.length
      } finally {
        loading.value = false
      }
    }

    onMounted(() => {
      fetchCount()
    })

    return {
      count,
      loading
      
    }
  }
}
</script>

<style scoped>
.fixed-counter {
  position: fixed;
  left: 0;
  top: 80px;
  background: rgba(255, 255, 255);
  padding: 5px;
  border-radius: 0 10px 10px 0;
  box-shadow: 0 1px 7px rgb(207, 138, 9);
  max-width: 200px;
  z-index: 100;
}

.counter-content {
  padding: 10px;
}

.counter-text {
  font-size: 1rem;
  line-height: 1.4;
  text-align: center;
}

.counter-number {
  font-weight: bold;
  font-size: 1.5rem;
  color: inherit;
  display: block;
  margin: 5px;
}


</style>